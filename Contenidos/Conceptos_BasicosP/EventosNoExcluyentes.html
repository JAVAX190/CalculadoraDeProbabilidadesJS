<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Eventos No Excluyentes – Ejercicios Prácticos</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gradient-to-br from-yellow-50 to-white text-gray-800">
  <!-- Encabezado -->
  <header class="bg-yellow-600 text-white py-6 text-center shadow-md">
    <h1 class="text-3xl font-bold">Eventos No Excluyentes</h1>
    <p class="text-yellow-100">Ejercicios interactivos – Regla de la suma general</p>
  </header>

  <main class="max-w-4xl mx-auto p-6">
    <!-- Introducción -->
    <section class="text-center mb-6">
      <p class="text-gray-700 mb-4">
        Los <strong>eventos no excluyentes</strong> son aquellos que <em>pueden ocurrir al mismo tiempo</em>, por lo que existe una intersección entre ambos.
      </p>
      <p class="text-lg font-semibold text-yellow-700 mb-3">
        P(A ∪ B) = P(A) + P(B) − P(A ∩ B)
      </p>
      <img src="../../Recursos/R_ConceptosBasicosP/EventosNoExcluyentes.png" alt="Eventos no excluyentes" class="mx-auto h-44 mb-3 rounded-xl shadow-lg">
      <p class="text-sm text-gray-600">Selecciona una dificultad para comenzar los ejercicios.</p>
    </section>

    <!-- Selector de dificultad -->
    <div class="flex justify-center gap-4 mb-6">
      <button onclick="cargarEjercicios('facil')" class="px-5 py-2 rounded-lg bg-yellow-600 text-white hover:bg-yellow-700">Fácil</button>
      <button onclick="cargarEjercicios('intermedio')" class="px-5 py-2 rounded-lg bg-amber-500 text-white hover:bg-amber-600">Intermedio</button>
      <button onclick="cargarEjercicios('dificil')" class="px-5 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700">Difícil</button>
    </div>

    <!-- Zona de ejercicios -->
    <div id="zonaEjercicio" class="hidden bg-white rounded-2xl shadow p-6 border">
      <div class="flex justify-between items-center mb-3">
        <span id="contador" class="font-semibold text-yellow-700"></span>
        <span id="puntaje" class="font-semibold text-gray-700"></span>
      </div>

      <h2 id="pregunta" class="text-lg font-semibold mb-4"></h2>
      <div id="opciones" class="space-y-2 mb-4"></div>

      <button onclick="comprobarRespuesta()" class="bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700">Comprobar respuesta</button>

      <div id="retroalimentacion" class="mt-4 text-center text-lg font-semibold"></div>

      <div class="mt-6 text-center">
        <button onclick="siguienteEjercicio()" id="btnSiguiente" class="hidden bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-800">Siguiente</button>
      </div>
    </div>

    <!-- Botón volver -->
    <div class="text-center mt-8">
      <a href="ConceptosBasicMain.html" class="text-yellow-700 hover:underline">← Volver al tema principal</a>
    </div>
  </main>

  <footer class="bg-gray-800 text-gray-200 text-center py-4 mt-10">
    <p>Estadística I – 2025 · Desarrollado por <span class="font-semibold">Javier Baudilio Soto Rosales</span></p>
  </footer>

  <script>
    var ejercicios = {
      facil: [
        { p: "Si P(A)=0.4, P(B)=0.5 y P(A∩B)=0.2, ¿P(A∪B)?", o: ["0.7","0.6","0.9","0.8"], c: 0, e: "0.4+0.5−0.2=0.7" },
        { p: "P(A)=0.3, P(B)=0.4, P(A∩B)=0.1 ⇒ P(A∪B)?", o: ["0.6","0.5","0.4","0.7"], c: 0, e: "0.3+0.4−0.1=0.6" },
        { p: "P(A)=0.6, P(B)=0.5, P(A∩B)=0.3 ⇒ P(A∪B)?", o: ["0.8","0.7","0.6","0.9"], c: 0, e: "0.6+0.5−0.3=0.8" },
        { p: "P(A)=0.7, P(B)=0.5, P(A∩B)=0.2 ⇒ P(A∪B)?", o: ["1.0","0.8","0.9","0.7"], c: 0, e: "0.7+0.5−0.2=1.0" },
        { p: "P(A)=0.25, P(B)=0.4, P(A∩B)=0.1 ⇒ P(A∪B)?", o: ["0.55","0.45","0.6","0.5"], c: 0, e: "0.25+0.4−0.1=0.55" },
        { p: "P(A)=0.8, P(B)=0.4, P(A∩B)=0.3 ⇒ P(A∪B)?", o: ["0.9","0.8","1.0","0.7"], c: 0, e: "0.8+0.4−0.3=0.9" },
        { p: "P(A)=0.5, P(B)=0.6, P(A∩B)=0.2 ⇒ P(A∪B)?", o: ["0.9","0.8","0.7","0.6"], c: 0, e: "0.5+0.6−0.2=0.9" },
        { p: "P(A)=0.4, P(B)=0.7, P(A∩B)=0.2 ⇒ P(A∪B)?", o: ["0.9","0.8","0.7","1.0"], c: 0, e: "0.4+0.7−0.2=0.9" },
        { p: "P(A)=0.2, P(B)=0.5, P(A∩B)=0.1 ⇒ P(A∪B)?", o: ["0.6","0.7","0.5","0.8"], c: 0, e: "0.2+0.5−0.1=0.6" },
        { p: "P(A)=0.9, P(B)=0.4, P(A∩B)=0.3 ⇒ P(A∪B)?", o: ["1.0","0.9","0.8","1.1"], c: 0, e: "0.9+0.4−0.3=1.0" },
        { p: "P(A)=0.15, P(B)=0.25, P(A∩B)=0.05 ⇒ P(A∪B)?", o: ["0.35","0.4","0.3","0.25"], c: 0, e: "0.15+0.25−0.05=0.35" },
        { p: "P(A)=0.45, P(B)=0.5, P(A∩B)=0.2 ⇒ P(A∪B)?", o: ["0.75","0.8","0.7","0.65"], c: 0, e: "0.45+0.5−0.2=0.75" },
        { p: "P(A)=0.3, P(B)=0.8, P(A∩B)=0.3 ⇒ P(A∪B)?", o: ["0.8","0.9","0.7","1.0"], c: 0, e: "0.3+0.8−0.3=0.8" },
        { p: "P(A)=0.5, P(B)=0.4, P(A∩B)=0.1 ⇒ P(A∪B)?", o: ["0.8","0.7","0.9","0.6"], c: 0, e: "0.5+0.4−0.1=0.8" },
        { p: "P(A)=0.6, P(B)=0.3, P(A∩B)=0.2 ⇒ P(A∪B)?", o: ["0.7","0.8","0.6","0.9"], c: 0, e: "0.6+0.3−0.2=0.7" }
      ],
      intermedio: [
        { p: "Evento A: sacar carta roja, B: carta figura. P(A)=0.5, P(B)=0.3, P(A∩B)=0.15. ¿P(A∪B)?", o: ["0.65","0.6","0.7","0.8"], c: 0, e: "0.5+0.3−0.15=0.65" },
        { p: "Lanzar dado: A=número par, B=número >3. P(A)=0.5, P(B)=0.5, P(A∩B)=0.33. ¿P(A∪B)?", o: ["0.67","0.75","0.6","0.8"], c: 0, e: "0.5+0.5−0.33=0.67" },
        { p: "P(A)=0.8, P(B)=0.4, P(A∩B)=0.2 ⇒ P(A∪B)?", o: ["1.0","0.9","0.8","0.7"], c: 0, e: "0.8+0.4−0.2=1.0" },
        { p: "P(A)=0.5, P(B)=0.5, P(A∩B)=0.25 ⇒ P(A∪B)?", o: ["0.75","0.8","0.6","0.7"], c: 0, e: "0.5+0.5−0.25=0.75" },
        { p: "P(A)=0.2, P(B)=0.9, P(A∩B)=0.1 ⇒ P(A∪B)?", o: ["1.0","0.8","0.9","0.7"], c: 0, e: "0.2+0.9−0.1=1.0" },
        { p: "P(A)=0.33, P(B)=0.22, P(A∩B)=0.1 ⇒ P(A∪B)?", o: ["0.45","0.55","0.4","0.5"], c: 0, e: "0.33+0.22−0.1=0.45" },
        { p: "P(A)=0.9, P(B)=0.5, P(A∩B)=0.4 ⇒ P(A∪B)?", o: ["1.0","0.9","0.8","0.7"], c: 0, e: "0.9+0.5−0.4=1.0" },
        { p: "P(A)=0.6, P(B)=0.6, P(A∩B)=0.4 ⇒ P(A∪B)?", o: ["0.8","0.9","0.7","0.6"], c: 0, e: "0.6+0.6−0.4=0.8" },
        { p: "P(A)=0.1, P(B)=0.9, P(A∩B)=0.05 ⇒ P(A∪B)?", o: ["0.95","0.9","0.85","0.8"], c: 0, e: "0.1+0.9−0.05=0.95" },
        { p: "P(A)=0.45, P(B)=0.55, P(A∩B)=0.3 ⇒ P(A∪B)?", o: ["0.7","0.8","0.9","0.6"], c: 0, e: "0.45+0.55−0.3=0.7" }
      ],
      dificil: [
        { p: "Dos eventos con P(A)=0.7, P(B)=0.8, P(A∩B)=0.6 ⇒ P(A∪B)?", o: ["0.9","0.8","1.0","0.7"], c: 0, e: "0.7+0.8−0.6=0.9" },
        { p: "Evento A y B: P(A)=0.9, P(B)=0.9, P(A∩B)=0.8 ⇒ P(A∪B)?", o: ["1.0","0.95","0.9","0.85"], c: 0, e: "0.9+0.9−0.8=1.0" },
        { p: "P(A)=0.5, P(B)=0.7, P(A∩B)=0.4 ⇒ P(A∪B)?", o: ["0.8","0.9","0.7","0.6"], c: 0, e: "0.5+0.7−0.4=0.8" },
        { p: "P(A)=0.6, P(B)=0.6, P(A∩B)=0.3 ⇒ P(A∪B)?", o: ["0.9","0.8","1.0","0.7"], c: 0, e: "0.6+0.6−0.3=0.9" },
        { p: "Si A⊂B, con P(A)=0.3, P(B)=0.5 ⇒ P(A∪B)?", o: ["0.5","0.8","0.7","0.6"], c: 0, e: "A⊂B ⇒ P(A∪B)=P(B)=0.5" }
      ]
    };

    var actual = 0;
    var aciertos = 0;
    var lista = [];
    var dificultad = '';

    function cargarEjercicios(dif) {
      dificultad = dif;
      lista = ejercicios[dif].slice();

      // Mezclar opciones de cada ejercicio
      lista.forEach(e => {
        var opciones = e.o.map((v,i)=>({val:v, idx:i}));
        for (let i = opciones.length - 1; i > 0; i--) {
          let j = Math.floor(Math.random() * (i + 1));
          [opciones[i], opciones[j]] = [opciones[j], opciones[i]];
        }
        e.o = opciones.map(x => x.val);
        e.c = opciones.findIndex(x => x.idx === e.c);
      });

      actual = 0;
      aciertos = 0;
      document.getElementById('zonaEjercicio').classList.remove('hidden');
      mostrarEjercicio();
    }

    function mostrarEjercicio() {
      var e = lista[actual];
      document.getElementById('pregunta').textContent = e.p;
      var opcionesHtml = '';
      for (var i = 0; i < e.o.length; i++) {
        opcionesHtml += "<label class='block border rounded px-3 py-2 cursor-pointer hover:bg-yellow-50'>";
        opcionesHtml += "<input type='radio' name='op' value='" + i + "' class='mr-2'>" + e.o[i];
        opcionesHtml += "</label>";
      }
      document.getElementById('opciones').innerHTML = opcionesHtml;
      document.getElementById('retroalimentacion').textContent = '';
      document.getElementById('btnSiguiente').classList.add('hidden');
      document.getElementById('contador').textContent = 'Ejercicio ' + (actual + 1) + ' de ' + lista.length;
      document.getElementById('puntaje').textContent = 'Aciertos: ' + aciertos;
    }

    function comprobarRespuesta() {
      var seleccionado = document.querySelector('input[name="op"]:checked');
      if (!seleccionado) { alert("Selecciona una opción"); return; }
      var e = lista[actual];
      var idx = parseInt(seleccionado.value, 10);
      var retro = document.getElementById('retroalimentacion');

      if (idx === e.c) {
        aciertos++;
        retro.innerHTML = "✅ Correcto. " + e.e;
        retro.className = "text-yellow-700 font-semibold mt-4";
      } else {
        retro.innerHTML = "❌ Incorrecto. " + e.e;
        retro.className = "text-red-700 font-semibold mt-4";
      }
      document.getElementById('btnSiguiente').classList.remove('hidden');
      document.getElementById('puntaje').textContent = 'Aciertos: ' + aciertos;
    }

    function siguienteEjercicio() {
      actual++;
      if (actual < lista.length) {
        mostrarEjercicio();
      } else {
        var zona = document.getElementById('zonaEjercicio');
        var finalHtml  = "<h2 class='text-2xl font-bold text-center text-yellow-700'>¡Has terminado!</h2>";
        finalHtml += "<p class='text-center mt-4'>Tu puntaje final es <strong>" + aciertos + "/" + lista.length + "</strong>.</p>";
        finalHtml += "<div class='text-center mt-6'>";
        finalHtml += "<button onclick=\"cargarEjercicios('" + dificultad + "')\" class='bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700'>Reintentar</button>";
        finalHtml += "</div>";
        zona.innerHTML = finalHtml;
      }
    }
  </script>
</body>
</html>
