<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Eventos Excluyentes – Ejercicios Prácticos</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gradient-to-br from-pink-50 to-white text-gray-800">
  <!-- Encabezado -->
  <header class="bg-pink-600 text-white py-6 text-center shadow-md">
    <h1 class="text-3xl font-bold">Eventos Excluyentes</h1>
    <p class="text-pink-100">Ejercicios interactivos – Regla de la suma</p>
  </header>

  <main class="max-w-4xl mx-auto p-6">
    <!-- Introducción -->
    <section class="text-center mb-6">
      <p class="text-gray-700 mb-4">
        Dos eventos son <strong>excluyentes</strong> si <em>no pueden ocurrir al mismo tiempo</em>.  
        Se cumple que <strong>P(A ∩ B) = 0</strong>, por lo tanto:
      </p>
      <p class="text-lg font-semibold text-pink-700 mb-3">
        P(A ∪ B) = P(A) + P(B)
      </p>
      <img src="../../Recursos/R_ConceptosBasicosP/eventos-mutuamente-excluyentes-.png" alt="Eventos excluyentes" class="mx-auto h-44 mb-3 rounded-xl shadow-lg">
      <p class="text-sm text-gray-600">Selecciona una dificultad para comenzar los ejercicios.</p>
    </section>

    <!-- Selector de dificultad -->
    <div class="flex justify-center gap-4 mb-6">
      <button onclick="cargarEjercicios('facil')" class="px-5 py-2 rounded-lg bg-pink-600 text-white hover:bg-pink-700">Fácil</button>
      <button onclick="cargarEjercicios('intermedio')" class="px-5 py-2 rounded-lg bg-yellow-500 text-white hover:bg-yellow-600">Intermedio</button>
      <button onclick="cargarEjercicios('dificil')" class="px-5 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700">Difícil</button>
    </div>

    <!-- Zona de ejercicios -->
    <div id="zonaEjercicio" class="hidden bg-white rounded-2xl shadow p-6 border">
      <div class="flex justify-between items-center mb-3">
        <span id="contador" class="font-semibold text-pink-700"></span>
        <span id="puntaje" class="font-semibold text-gray-700"></span>
      </div>

      <h2 id="pregunta" class="text-lg font-semibold mb-4"></h2>
      <div id="opciones" class="space-y-2 mb-4"></div>

      <button onclick="comprobarRespuesta()" class="bg-pink-600 text-white px-4 py-2 rounded hover:bg-pink-700">Comprobar respuesta</button>

      <div id="retroalimentacion" class="mt-4 text-center text-lg font-semibold"></div>

      <div class="mt-6 text-center">
        <button onclick="siguienteEjercicio()" id="btnSiguiente" class="hidden bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-800">Siguiente</button>
      </div>
    </div>

    <!-- Botón volver -->
    <div class="text-center mt-8">
      <a href="ConceptosBasicMain.html" class="text-pink-700 hover:underline">← Volver al tema principal</a>
    </div>
  </main>

  <footer class="bg-gray-800 text-gray-200 text-center py-4 mt-10">
    <p>Estadística I – 2025 · Desarrollado por <span class="font-semibold">Javier Baudilio Soto Rosales</span></p>
  </footer>

  <script>
    var ejercicios = {
      facil: [
        { p: "Si P(A)=0.4 y P(B)=0.5, siendo excluyentes, ¿P(A∪B)?", o: ["0.9","0.2","0.45","0.5"], c: 0, e: "P(A∪B)=0.4+0.5=0.9" },
        { p: "P(A)=0.2, P(B)=0.3, excluyentes ⇒ P(A∪B)?", o: ["0.5","0.4","0.6","0.3"], c: 0, e: "0.2+0.3=0.5" },
        { p: "P(A)=0.1, P(B)=0.7, excluyentes ⇒ P(A∪B)?", o: ["0.8","0.6","0.5","0.7"], c: 0, e: "0.1+0.7=0.8" },
        { p: "P(A)=0.5, P(B)=0.3, excluyentes ⇒ P(A∪B)?", o: ["0.8","0.6","0.7","0.5"], c: 0, e: "0.5+0.3=0.8" },
        { p: "P(A)=0.25, P(B)=0.5, excluyentes ⇒ P(A∪B)?", o: ["0.75","0.8","0.6","0.7"], c: 0, e: "0.25+0.5=0.75" },
        { p: "P(A)=0.15, P(B)=0.25, excluyentes ⇒ P(A∪B)?", o: ["0.4","0.3","0.5","0.2"], c: 0, e: "0.15+0.25=0.4" },
        { p: "P(A)=0.6, P(B)=0.1, excluyentes ⇒ P(A∪B)?", o: ["0.7","0.5","0.6","0.8"], c: 0, e: "0.6+0.1=0.7" },
        { p: "P(A)=0.8, P(B)=0.1, excluyentes ⇒ P(A∪B)?", o: ["0.9","0.7","0.8","0.6"], c: 0, e: "0.8+0.1=0.9" },
        { p: "P(A)=0.33, P(B)=0.22, excluyentes ⇒ P(A∪B)?", o: ["0.55","0.4","0.6","0.5"], c: 0, e: "0.33+0.22=0.55" },
        { p: "P(A)=0.45, P(B)=0.3, excluyentes ⇒ P(A∪B)?", o: ["0.75","0.7","0.8","0.5"], c: 0, e: "0.45+0.3=0.75" },
        { p: "P(A)=0.1, P(B)=0.6, excluyentes ⇒ P(A∪B)?", o: ["0.7","0.5","0.6","0.8"], c: 0, e: "0.1+0.6=0.7" },
        { p: "P(A)=0.05, P(B)=0.1, excluyentes ⇒ P(A∪B)?", o: ["0.15","0.1","0.2","0.25"], c: 0, e: "0.05+0.1=0.15" },
        { p: "P(A)=0.9, P(B)=0.05, excluyentes ⇒ P(A∪B)?", o: ["0.95","0.9","1.0","0.85"], c: 0, e: "0.9+0.05=0.95" },
        { p: "P(A)=0.7, P(B)=0.2, excluyentes ⇒ P(A∪B)?", o: ["0.9","0.8","0.7","0.85"], c: 0, e: "0.7+0.2=0.9" },
        { p: "P(A)=0.4, P(B)=0.6, excluyentes ⇒ P(A∪B)?", o: ["1.0","0.9","0.8","0.7"], c: 0, e: "0.4+0.6=1.0" }
      ],
      intermedio: [
        { p: "Al lanzar un dado: evento A (par) y B (impar). ¿Son excluyentes?", o: ["Sí","No","Depende","Nunca"], c: 0, e: "No pueden ocurrir juntos, son excluyentes." },
        { p: "Extraer una carta: evento A (roja) y B (negra). ¿Excluyentes?", o: ["Sí","No","Depende","No se puede"], c: 0, e: "Una carta no puede ser roja y negra a la vez." },
        { p: "Evento A: obtener cara. Evento B: obtener sello. ¿Excluyentes?", o: ["Sí","No","Depende","No se puede"], c: 0, e: "Solo uno puede ocurrir por lanzamiento." },
        { p: "P(A)=0.5, P(B)=0.4, excluyentes ⇒ P(A∪B)?", o: ["0.9","0.7","0.8","0.5"], c: 0, e: "0.5+0.4=0.9" },
        { p: "P(A)=0.6, P(B)=0.3, excluyentes ⇒ P(A∪B)?", o: ["0.9","0.8","0.7","0.6"], c: 0, e: "0.6+0.3=0.9" },
        { p: "P(A)=0.2, P(B)=0.8. ¿Posibles eventos excluyentes?", o: ["No","Sí","Depende","Nunca"], c: 0, e: "No pueden serlo, la suma excede 1." },
        { p: "Evento A: sacar rey, B: sacar reina. ¿Excluyentes?", o: ["Sí","No","Depende","No se puede"], c: 0, e: "Una carta no puede ser ambas cosas." },
        { p: "P(A)=0.25, P(B)=0.25, excluyentes ⇒ P(A∪B)?", o: ["0.5","0.4","0.45","0.6"], c: 0, e: "0.25+0.25=0.5" },
        { p: "Evento A: sacar as, B: sacar número par (en un dado). ¿Excluyentes?", o: ["No","Sí","Depende","No se sabe"], c: 0, e: "El 1 (as) no interfiere con pares, son excluyentes." },
        { p: "P(A)=0.45, P(B)=0.55. ¿P(A∪B) posible si son excluyentes?", o: ["No","Sí","Depende","Solo si independientes"], c: 0, e: "Suma=1, justo el máximo posible." }
      ],
      dificil: [
        { p: "Evento A (sacar figura), B (sacar corazón). ¿Excluyentes?", o: ["No","Sí","Depende","A veces"], c: 0, e: "Una carta puede ser figura y corazón, no son excluyentes." },
        { p: "Si A y B son excluyentes, ¿P(A∩B)?", o: ["0","1","P(A)+P(B)","No existe"], c: 0, e: "Por definición P(A∩B)=0" },
        { p: "Si P(A)=0.7, P(B)=0.4, ¿pueden ser excluyentes?", o: ["No","Sí","Depende","A veces"], c: 0, e: "No, suma>1" },
        { p: "P(A)=0.5, P(B)=0.4, excluyentes ⇒ P(A∪B)?", o: ["0.9","0.8","0.7","0.6"], c: 0, e: "0.5+0.4=0.9" },
        { p: "Si A y B son excluyentes, ¿qué se cumple siempre?", o: ["P(A∩B)=0","P(A∩B)=1","P(A∪B)=0","P(A)=0"], c: 0, e: "Nunca pueden ocurrir juntos." }
      ]
    };

    var actual = 0;
    var aciertos = 0;
    var lista = [];
    var dificultad = '';

    function cargarEjercicios(dif) {
      dificultad = dif;
      lista = ejercicios[dif].slice();
      actual = 0;
      aciertos = 0;
      document.getElementById('zonaEjercicio').classList.remove('hidden');
      mostrarEjercicio();
    }

    // Función para barajar opciones y actualizar la posición correcta
    function barajarOpciones(opciones, idxCorrecta) {
      let arr = opciones.map((op, i) => ({op, esCorrecta: i === idxCorrecta}));
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      const nuevaPosCorrecta = arr.findIndex(o => o.esCorrecta);
      const nuevasOpciones = arr.map(o => o.op);
      return { nuevasOpciones, nuevaPosCorrecta };
    }

    function mostrarEjercicio() {
      var e = lista[actual];
      document.getElementById('pregunta').textContent = e.p;

      // Mezclar las opciones
      const { nuevasOpciones, nuevaPosCorrecta } = barajarOpciones(e.o, e.c);
      e.o = nuevasOpciones;
      e.c = nuevaPosCorrecta;

      var opcionesHtml = '';
      for (var i = 0; i < e.o.length; i++) {
        opcionesHtml += "<label class='block border rounded px-3 py-2 cursor-pointer hover:bg-pink-50'>";
        opcionesHtml += "<input type='radio' name='op' value='" + i + "' class='mr-2'>" + e.o[i];
        opcionesHtml += "</label>";
      }
      document.getElementById('opciones').innerHTML = opcionesHtml;
      document.getElementById('retroalimentacion').textContent = '';
      document.getElementById('btnSiguiente').classList.add('hidden');
      document.getElementById('contador').textContent = 'Ejercicio ' + (actual + 1) + ' de ' + lista.length;
      document.getElementById('puntaje').textContent = 'Aciertos: ' + aciertos;
    }

    function comprobarRespuesta() {
      var seleccionado = document.querySelector('input[name="op"]:checked');
      if (!seleccionado) { alert("Selecciona una opción"); return; }
      var e = lista[actual];
      var idx = parseInt(seleccionado.value, 10);
      var retro = document.getElementById('retroalimentacion');

      if (idx === e.c) {
        aciertos++;
        retro.innerHTML = "✅ Correcto. " + e.e;
        retro.className = "text-pink-700 font-semibold mt-4";
      } else {
        retro.innerHTML = "❌ Incorrecto. " + e.e;
        retro.className = "text-red-700 font-semibold mt-4";
      }
      document.getElementById('btnSiguiente').classList.remove('hidden');
      document.getElementById('puntaje').textContent = 'Aciertos: ' + aciertos;
    }

    function siguienteEjercicio() {
      actual++;
      if (actual < lista.length) {
        mostrarEjercicio();
      } else {
        var zona = document.getElementById('zonaEjercicio');
        var finalHtml  = "<h2 class='text-2xl font-bold text-center text-pink-700'>¡Has terminado!</h2>";
        finalHtml += "<p class='text-center mt-4'>Tu puntaje final es <strong>" + aciertos + "/" + lista.length + "</strong>.</p>";
        finalHtml += "<div class='text-center mt-6'>";
        finalHtml += "<button onclick=\"cargarEjercicios('" + dificultad + "')\" class='bg-pink-600 text-white px-4 py-2 rounded hover:bg-pink-700'>Reintentar</button>";
        finalHtml += "</div>";
        zona.innerHTML = finalHtml;
      }
    }
  </script>
</body>
</html>
